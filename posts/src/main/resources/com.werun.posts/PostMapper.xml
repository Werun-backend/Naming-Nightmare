<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.werun.PostMapper">

    <select id="selectUserByEmailAndPassword" resultType="com.werun.User">
        SELECT user_id, password, email
        FROM user
        WHERE email = #{email} AND password = #{password}
    </select>

    <select id="selectUserByEmail" resultType="com.werun.User">
        SELECT user_id, password, email
        FROM user
        WHERE email = #{email}
    </select>


    <insert id="insertPost" parameterType="com.werun.Posts" useGeneratedKeys="true" keyProperty="postId">
        INSERT INTO posts
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="postId != null">post_id,</if>
            password,
            email,
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="userId != null">#{userId},</if>
            #{password},
            #{email},
        </trim>
    </insert>

</mapper>